# Техническое задание: Музыкальный плеер

**Студент**: Коновальчук Александр Алексеевич

**Группа**: 2307в2

---

## 1 Описание проекта

### 1.1 Название: 
Музыкальный плеер

### 1.2 Назначение: 
Данная система предназначена для прослушивания аудиофайлов. Она позволяет создавать и управлять плейлистами.

---

## 2. функциональные требования:

#### Функция 1: Воспроизведение аудиофайлов
- **Описание:** Основная функция плеера по воспроизведению аудиофайлов через аудиовыход устройства. Поддерживает управление воспроизведением: старт, пауза, перемотка, переход к следующему/предыдущему треку.
- **Входные данные:** Выбор пользователем трека из медиатеки или плейлиста
- **Результат:** Непрерывный аудиопоток, подаваемый на динамики или наушники устройства

#### Функция 2: Создание и управление плейлистами
- **Описание:** Позволяет пользователю вручную создавать статические списки воспроизведения, организуя треки по своему усмотрению. Плейлисты сохраняются в системе для последующего использования.
- **Входные данные:** Название нового плейлиста, список возможных треков для сохранения
- **Результат:** Постоянный пользовательский плейлист, отображаемый в библиотеке

#### Функция 3: Оплата
- **Описание:** Функция позволяет пользователю оформить и оплатить премиум подписку на сервис.
- **Входные данные:** Выбор тарифного плана (месячный/годовой), данные банковской карты (номер, срок действия, CVV-код)
- **Результат:** Активация премиум статуса в учётной записи пользователя, открывающая доступ ко всем платным функциям сервиса на указанный срок
  
#### Функция 4: Фильтрация по Названию песни / Исполнителю
- **Описание:** Функция позволяет пользователю быстро найти нужные аудиозаписи в своей медиатеке путём ввода текстового запроса. Система в реальном времени ищет совпадения по названию трека или имени исполнителя, отображая соответствующие результаты.
- **Входные данные:** Текстовый запрос, введенный пользователем в строку поиска
- **Результат:** Список треков, в названиях или именах исполнителей которых содержится введённый запрос.

#### Функция 5: Регистрация 
- **Описание:** Функция позволяет новому пользователю создать уникальную учетную запись в системе.
- **Входные данные:** Адрес электронной почты, пароль, согласие с пользовательским соглашением.
- **Результат:** Создание новой учетной записи в системе.

#### Функция 6: Просмотр альбомов
- **Описание:** Функция позволяет просматривать содержание альбомов.
- **Входные данные:** Альбомы
- **Результат:** Отображение альбома на экране пользователя

 ---

 ## 3. Структура базы данных 

### Таблица 1: Audio_File(Аудио файл)

**Описание:** Хранит информацию о аудио файлах

**Поля:**
- `Id` (int, PK) - уникальный индентификатор файла
- `Name` (string) - название файла
- `Author` (string) - автор песни
- `URL` (string) - пусть до этого файла

**Связи:**
- Сзязь один-ко-многим с таблицей `Album` (Один трек может быть добаввлен много раз)

### Таблица 2: Album(Альбом)

**Описание:** Хранит информацию о альбоме

**Поля:** 
- `Id` (int, PK) - уникальный индентификатор альбома
- `Name` (string) - название альбома
**Связи:**


### Таблица 3: Playlist(Плейлист)

**Описание:**  Хранит информацию о пользовательских плейлистах

**Поля:**
- `Id` (int, PK) - уникальный идентификатор плейлиста
- `Name` (string) - название альбома плейлиста

**Связи:**
- Связь многие-ко-многим с таблицей `Audio_File` 

### Таблица 4: Playlist_Track(Трек плейлиста)

**Описание:** Промежуточная таблица для связи плейлистов и аудиофайлов

**Поля:**
- `Id` (int, PK) - уникальный идентификатор записи
- `Playlist_Id` (int, FK) - ссылка на плейлист
- `Audio_File_Id` (int, FK) - ссылка на аудиофайл


---

## 4. Основные формы приложения

#### форма 1: MainWindow(Главное окно)

**Назначение:** Основное окно приложения для воспроизведения музыки и навигации по медиатеке

**Элементы управления:**
- MediaControlPanel - Панель управления воспроизведением (Кнопки play/pause, next, previous, прогресс-бар)
- VolumeSlider - регулятор громкости
- SearchTextBox - Поле для поиска треков по названию и исполнителю
- NowPlayingPanel - панель текущего трека (название, исполнитель)
- MainDataGrid - Таблица для отображения списка треков выбранного раздела

**Действия:**
- Кнопка "Play/Pause" - запуск/пауза
- Кнопка "Next" - переход к следующему треку
- Кнопка "Previous" - переход к предыдущему треку
- Кнопка "Создать плейлист" - открывает PlaylistEditWIndow

#### форма 2: PlaylistEditWindow(Редактор плейлистов)

**Назначение:** Создание и редактирование пользовательских плейлистов

**Элементы управления:**
- PlaylistNameTextBox - поле для названия плейлиста
- AvailableTracksDataGrid - таблица доступных треков в медиатеке
- PlaylistTracksDatGrid - таблица треков в плейлисте
- AddTrackButton - кнопка добавления трека в плейлист
- RemoveTrackButton - кнопка удаления трека из плейлиста

**Действия:**
- Кнопка "Сохранить" - сохранение изменений плейлиста
- Кнопка "отмена" - закрытие формы без сохранения 
- Кнопка "Добавить трек" - добавление выбранного трека в плейлист
- Кнопка "Удалить трек" - удаление выранного трека из плейлиста

#### форма 3: AudioLibrary (Управление медиатекой)

**Назначение:** Просмотр и управление всей музыкальной библиотекой

**Элементы управления:** 
- AudioFilesDataGrid - таблица всех аудиофайлов с колонками: название, исполнитель, альбом, длительность
- FilterComboBox  - выпадающий список фильтров 
- SearchTextBox  - поле поиска по медиатеке 
- ImportFolderButton - кнопка добаления папки для сканирования 

**Действия:**
- Кнопка "Добавить папку" - открытие диалога выбора папки для импорта музыки
- Кнопка "Редактировать аудиофайл" - открытие EditAudioWindow для выбранного трека
- Кнопка "Удалить" - удаление выбранного трека из библиотеки
- Кнопка "Обновить библиотека" - принудительное сканированиие папок

#### форма 4: EditAudioWindow  (Редактор аудиофайлов)

**Назначение:** Редактирование данных аудиофайлов

**Элементы управления:**
- TitleTextBox — поле названия трека
- ArtistTextBox — поле имени исполнителя
- AlbumTextBox — поле названия альбома
- CoverArtPictureBox — изображение обложки альбома
- CoverArtUploadButton — кнопка загрузки обложки

**Действия:**
- Кнопка "Сохнанить" - Сохранение изменнеий в файл
- Кнопка "Отмена" - закрытие формы без сохранения
- Кнопка "загузить обложку" - открытие диалога выбора изображения

#### форма 5: PaymentWindow (Оплата премиум-подписки)

**Назначение:** Оформление и оплата премиум-подписки

**Элементы управления:**
- TariffComboBox — выбор тарифа (месячный/годовой)
- CardNumberTextBox — поле номера банковской карты
- ExpiryDateTextBox — поле срока действия карты (MM/YY)
- CVVTextBox — поле CVV-кода
- AmountTextBlock — отображение суммы к оплате

**Действия** 
- Кнопка "Оплатить" - Обработка платежа и активация подписки
- Кнопка "Отмена" - отмена операции оплаты

---

#### Схема навигации

#### При запуске приложения 

**Запуск** → MainWindow 
#### Из MainWindow

**Навигация по медиатеке:**
- Двойной клик на трек в списке → воспроизведение 

**Управление плейлистами:**
- Кнопка "Создать плейлист" → PlaylistEditWindow (режим создания)
- Двойной клик на плейлист в NavigationTreeView → открытие PlaylistEditWindow (режим редактирования)
  
**Управление библиотекой:**
- Кнопка "Управление библиотекой" → AudioLibraryWindow
- Кнопка "Редактировать аудиофайл" (контекстное меню трека) → EditAudioWindow

**Премиум-функции:**
- Кнопка "Премиум-подписка" → PaymentWindow

#### Из PlaylistEditWindow
- Кнопка "Сохранить" → сохранение плейлиста → возврат на MainWindow (обновление списка плейлистов)
- Кнопка "Отмена" → возврат на MainWindow без сохранения изменений

#### Из AudioLibraryWindow
- Кнопка "Добавить папку" → диалог выбора папки → автоматическое сканирование и обновление таблицы
- Кнопка "Редактировать аудиофайл" → EditAudioWindow для выбранного трека
- Кнопка "Удалить" → диалог подтверждения → удаление трека из библиотеки → обновление таблицы
- Кнопка "Закрыть" → возврат на MainWindow 

#### Из EditAudioWindow
- Кнопка "Сохранить" → сохранение метаданных в файл → возврат на предыдущую форму (AudioLibraryWindow или MainWindow)
- Кнопка "Отмена" → возврат на предыдущую форму без сохранения

#### Из PaymentWindow
- Кнопка "Оплатить":
- Кнопка "Отмена" → возврат на MainWindow без оплаты